(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},18:function(e,t,n){},20:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},21:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),s=n.n(o),c=(n(18),n(3)),i=n(4),l=n(7),u=n(5),m=n(6),d=(n(20),n(21),n(8)),p=n(9),h=n(2),f={ADD:"ADD",SUBSTR:"SUBSTR",ADD_SUBSTR:"ADD_SUBSTR"},v=function(e){var t=e.operation?e.operation:{},n=t.mode,a=t.a,o=t.b,s=e.answer,c=n===f.ADD?"+":"-";return r.a.createElement("div",{className:"operation ".concat(e.signalWrongAnswer?"wrongAnswer":"")},r.a.createElement("p",null,a," ",c," ",o," ="),r.a.createElement("input",{type:"text",value:s,onChange:function(t){return e.onAnswer(t.target.value)}}))},w=n(1),g=n.n(w),b=function(e){var t=g.a.range(11).map(function(t){return r.a.createElement("button",{key:t,onClick:function(){return e.onPadClick(t)}},t)});return r.a.createElement("div",{className:"numPad"},t)},A=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).timer=function(){clearInterval(n.interval);var e=n.state.timer;n.interval=setInterval(function(){n.setState({timer:e++})},100)},n.handleAnswer=function(e){var t=n.state.timer;n.setState({answer:e},function(){n.saveAnswer(t)})},n.saveAnswer=function(e){var t=n.props.operation;n.props.handleAnswer(Object(d.a)({},t,{answer:n.state.answer,time:e})),n.setState({timer:0},function(){clearInterval(n.interval),n.timer()})},n.state={timer:0,answer:""},n.interval=null,n.saveAnswer=g.a.debounce(n.saveAnswer,400).bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.timer()}},{key:"componentDidUpdate",value:function(e){e.operation!==this.props.operation&&this.props.operation&&this.setState({answer:""})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"operationWrapper"},r.a.createElement(v,{operation:this.props.operation,answer:this.state.answer,onAnswer:this.handleAnswer,signalWrongAnswer:this.props.signalWrongAnswer}),r.a.createElement(b,{onPadClick:this.handleAnswer}))}}]),t}(a.Component),S=function(e){var t=e.results,n=g.a.filter(t,{correct:!0}).length,a=g.a.sumBy(t,"time")/10,o=Math.floor(a/60),s=Math.round(a-60*o);return r.a.createElement("div",{className:"resultsContainer"},r.a.createElement("div",{className:"results"},"Correct Answers: ",r.a.createElement("span",{className:"correctAnswers"},n)," / ",t.length," ",r.a.createElement("br",null),"Time: ",o>0?"".concat(o," minutes ").concat(s," seconds"):"".concat(a," seconds")),r.a.createElement("div",{className:"resultsTable"},"Results:",t.map(function(e){return r.a.createElement("p",null,r.a.createElement("span",{className:"resultRowSection"},function(e){return"ADD"===e.mode?r.a.createElement("span",null,e.a," + ",e.b):r.a.createElement("span",null,e.a," - ",e.b)}(e)," = ",e.answer),r.a.createElement("span",{className:"resultRowSection ".concat(e.correct?"correct":"wrong")},"".concat(e.correct?"Correct":"Wrong")),r.a.createElement("span",{className:"resultRowSection"},"Time: ",e.time," seconds"))})))},E=function(e){return r.a.createElement("div",{className:"starsContainer"},e.stars.map(function(e){return r.a.createElement("div",{key:e.index,className:"star ".concat(null==e.correct?"not-set":e.correct?"correct":"false")}," ")}))},O=20,D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).generateOperation=function(){var e,t=n.getMode(),a=g.a.random(10);if(t===f.ADD)e=g.a.random(10-a);else if(a<(e=g.a.random(10))){var r=a;a=e,e=r}return{mode:t,a:a,b:e}},n.handleAnswer=function(e){var t=n.checkAnswer(e),a=[].concat(Object(p.a)(n.state.operations),[t]),r=n.getUpdatedStars(a.length-1,t.correct);n.setState({operations:a,stars:r},function(){n.state.operations.length<O?n.setState({currentOperation:n.generateOperation()}):n.setState({display:"result"})})},n.checkAnswer=function(e){var t=e.a,a=e.b,r=e.answer,o=!1;return(o=e.mode===f.ADD?t+a===+r:t-a===+r)||n.setState({signalWrongAnswer:!0},function(){setTimeout(function(){n.setState({signalWrongAnswer:!1})},500)}),Object(d.a)({},e,{correct:o})},n.setMode=function(e){n.setState({mode:e,display:"operations"},function(){n.cleanUp(),n.setState({currentOperation:n.generateOperation()})})},n.cleanUp=function(){n.setState({operations:[]})},n.state={operations:[],currentOperation:null,mode:null,display:"",stars:[],signalWrongAnswer:!1},n.getMode=n.getMode.bind(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.generateStars()}},{key:"generateStars",value:function(){var e=g.a.range(O),t=[];e.forEach(function(e,n){return t.push({index:n,correct:null})}),this.setState({stars:t})}},{key:"getUpdatedStars",value:function(e,t){return Object(p.a)(this.state.stars).map(function(n){return n.index===e?Object(d.a)({},n,{correct:t}):n})}},{key:"getMode",value:function(){if(this.state.mode===f.ADD||this.state.mode===f.SUBSTR)return this.state.mode;var e=g.a.random(1);return f[Object.keys(f)[e]]}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"modeButton ".concat(this.state.mode===f.ADD?"active":null),onClick:function(){return e.setMode(f.ADD)}},"Addition"),r.a.createElement("button",{className:"modeButton ".concat(this.state.mode===f.SUBSTR?"active":null),onClick:function(){return e.setMode(f.SUBSTR)}},"Substraction"),r.a.createElement("button",{className:"modeButton ".concat(this.state.mode===f.ADD_SUBSTR?"active":null),onClick:function(){return e.setMode(f.ADD_SUBSTR)}},"Addition + Substraction"),this.state.mode?"operations"===this.state.display?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{operation:this.state.currentOperation,handleAnswer:this.handleAnswer,signalWrongAnswer:this.state.signalWrongAnswer}),r.a.createElement(E,{stars:this.state.stars})):r.a.createElement(S,{results:this.state.operations}):r.a.createElement("div",{className:"modepick"},"Pick a mode"))}}]),t}(a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.fe3dcbb2.chunk.js.map